<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:source="https://source.scripting.com/">
  <atom:link href="https://rsdoiel.github.io/pages.xml" rel="self" type="application/rss+xml" />
  <channel>
    <title>An Antenna Website</title>
    <description>
      This is the default websites created by the antenna init action.
    </description>
    <link>https://rsdoiel.github.io/pages.xml</link>
    <lastBuildDate>13 Feb 26 10:33 -0800</lastBuildDate>
    <generator>antenna/0.0.21</generator>
    <docs>https://cyber.harvard.edu/rss/rss.html</docs>
    <item>
      <title>The JSON under the hood of RDM</title>
      <link>https://rsdoiel.github.io/blog/2026/02/13/the_json_under_the_hood_of_rdm.html</link>
      <description>
        <![CDATA[A step by step for form URLs to retrieve JSON metadata from Invenio RDM and Zenodo.]]>
      </description>
      <source:markdown>---
author: R. S. Doiel
dateCreated: &#34;2026-02-13&#34;
dateModified: &#34;2026-02-13&#34;
datePublished: &#34;2026-02-13&#34;
description: |
    A step by step for form URLs to retrieve JSON metadata from Invenio RDM and Zenodo.
keywords:
    - Invenio RDM
    - JSON
    - curl
    - jq
    - metadata
postPath: blog/2026/02/13/the_json_under_the_hood_of_rdm.md
title: The JSON under the hood of RDM

---


# The JSON under the hood of RDM

By R. S. Doiel, 2026-02-13

In my day job I work allot of library and archival repository software. The current favorite is [Invenio RDM](https://inveniordm.docs.cern.ch/). Compared to some other repository systems like [EPrints](https://https://en.wikipedia.org/wiki/EPrints) and[DSpace](https://en.wikipedia.org/wiki/DSpace) I think RDM is a large step in the right direction.  One thing I really like about both RDM and EPrints is their the RESTful API. It makes it trivial to retrieve records as structured text. In the case of RDM that structure is expressed as JSON (very convenient). All you need to know is how to modify the HTML version URL into the version where you see the structured metadata.

Let&#39;s say I want to look up an article titled &#34;DIBS: An implementation of Controlled Digital Lending&#34; in Zenodo. I plug the article title (or use the DOI, https://doi.org/10.5281/zenodo.17162802) into Zenodo and get back a the record page. The record page URL is this.

    &#60;https://zenodo.org/records/17162802&#62;

If I want to view that as structured metadata (JSON). I can insert a &#34;/api&#34; just before &#34;/records&#34;. That URL looks like this.

    &#60;https://zenodo.org/api/records/17162802&#62;

Bingo I have RDM&#39;s JSON representation of the record. This is really helpful if I want do some sort of structural analysis on the record. All I need is to determine the identifier for the record and retrieve it. The identifier is the last bit after the URL part, &#34;/records/&#34;.

What is I don&#39;t have the identifier already? RDM integrates OpenSearch to display lists of records. OpenSearch isn&#39;t directly exposed (for good reasons) to the public URL. The trick to getting lists of records is to use the &#34;/records&#34; end point along with query parameters. The means with a simple bit of URL editing I can get arbitrary lists back as JSON objects reflecting the OpenSearch JSON response structure. 

## URL hacking from HTML search results

Like many OpenSearch/Elasticsearch sites RDM normally generates the results page via requiring JavaScript evaluation. This allows a high degree of flexibility in presenting results. The trouble with the search page relying on JavaScript is that it obscures what is actually happening under the hood of your web browser. Under the hood the JavaScript takes the search query submitted and sends that off to OpenSearch, retrieves the JSON results then inserts them into the HTML page. How do you do this when you don&#39;t have JavaScript?

Go to an RDM deployment (I&#39;m using Zenodo as an example). Open the search page with your browser&#39;s web tools are open. Look at the network calls the search page executes when you enter and submit search terms. That is where you find a clue to the actual URL handling the OpenSearch query processing. Regardless of whether your RDM instance bundled their UI built on Angular or React mess of JavaScript uses the records end point to pass through the OpenSearch results. The trick is knowing the simple the URL mapping of the HTML results to that back end query.

Let&#39;s say I am looking for the most resent additions to Zenodo from today, 2026-02-13. Using the HTML search page I get a URL that looks like this.

    &#60;https://zenodo.org/search?q=updated%3A2026-02-13&#38;l=list&#38;p=1&#38;s=10&#38;sort=newest&#62;

The query portion of the URL is `?q=updated%3A2026-02-13&#38;l=list&#38;p=1&#38;s=10&#38;sort=newest` is the important part. If I apply this to the `/api/records` end point. I get a URL that looks like this.

    &#60;https://zenodo.org/api/records?q=updated%3A2026-02-13&#38;l=list&#38;p=1&#38;s=10&#38;sort=newest&#62;

This is the JSON behind the search HTML page results.  Now I can use this to get lists of records. This works with my library&#39;s own RDM instances too. If you can form a search query with results you like in at Zenodo or on your local RDM instance using the HTML search page you can then get the results back in a JSON expression. The results follow the structured returned by OpenSearch. You just need to follow the [documentation](https://docs.opensearch.org/latest/query-dsl/query-filter-context/). The main JSON attribute that is useful is &#34;hits&#34; attribute.

## Taking things a step further with curl and jq.

[curl](https://curl.se/) will let us easily retrieve the search results as JSON from the command line.  We can page through the results using the `p=` query parameter (page number).  If we take the retrieved JSON we can pull out records using [jq](https://jqlang.org). Here&#39;s a simple command line phrase you can use to pull out the URLs to the JSON records of the Zenodo query results.

~~~shell
curl &#39;https://zenodo.org/api/records?q=updated%3A2026-02-13&#38;l=list&#38;p=1&#38;s=10&#38;sort=newest&#39; | jq -r &#39;.hits[][]?.links?.self&#39;
~~~

This will list the RDM JSON url for the search query I supplied (updated since 2026-02-13). The list returns newest first. Today that list looked like this.

~~~
https://zenodo.org/api/records/18635105
https://zenodo.org/api/records/18635060
https://zenodo.org/api/records/18635124
https://zenodo.org/api/records/18635117
https://zenodo.org/api/records/18634630
https://zenodo.org/api/records/18635110
https://zenodo.org/api/records/18635099
https://zenodo.org/api/records/18635091
https://zenodo.org/api/records/18635094
https://zenodo.org/api/records/17556135
https://zenodo.org/api/records/18635089
https://zenodo.org/api/records/18635082
https://zenodo.org/api/records/18635087
https://zenodo.org/api/records/18635038
https://zenodo.org/api/records/18635076
https://zenodo.org/api/records/18635074
https://zenodo.org/api/records/18634979
https://zenodo.org/api/records/18635006
https://zenodo.org/api/records/18634916
https://zenodo.org/api/records/18635064
https://zenodo.org/api/records/18634080
https://zenodo.org/api/records/18635066
https://zenodo.org/api/records/18635062
https://zenodo.org/api/records/18635052
https://zenodo.org/api/records/18635020
~~~

There you have it. You can now retrieve a record or list or records as JSON from Invenio RDM repositories.</source:markdown>
      <enclosure url="https://rsdoiel.github.io/blog/2026/02/13/the_json_under_the_hood_of_rdm.md" length="6372" type="text/markdown" />
    </item>
  </channel>
</rss>
