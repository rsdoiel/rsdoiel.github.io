<!DOCTYPE>
<html lang="en">
    <head>
        <title>Young-Persons-Guide-to-YUI3.md</title>
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.2.0/pure-min.css">
        <link href="css/styles.css" rel="stylesheet" media="all">
    </head>
    <body>
        <header><h1>Young-Persons-Guide-to-YUI3.md</h1></header>
        <section>
        <h1>Young Person&#39;s Guide to YUI3 (draft 0)</h1>
<p>by R. S. Doiel, <a href="&#x6d;&#97;&#105;&#x6c;&#116;&#111;&#58;&#114;&#115;&#100;&#111;&#x69;&#101;&#108;&#x40;&#103;&#109;&#x61;&#x69;&#108;&#46;&#x63;&#111;&#x6d;">&#114;&#115;&#100;&#111;&#x69;&#101;&#108;&#x40;&#103;&#109;&#x61;&#x69;&#108;&#46;&#x63;&#111;&#x6d;</a>
Updated: 2013-06-26</p>
<p>This is a gentle introduction to <a href="http://yuilibrary.com" title="YUI3 was at version 3.10.0 at the time this article was written">YUI3</a>. It does make a few assumptions-</p>
<ul>
<li>You have a basic knowledge of JavaScript, HTML, CSS</li>
<li>A basic idea of how the web works</li>
<li>For those who might be familiar with jQuery I&#39;ll point out the similarities
to speed you along.</li>
</ul>
<p>For a much more complete look at <em>YUI3</em> I recommend <a href="http://www.goer.org/">Evan Goer</a>&#39;s
<a href="http://shop.oreilly.com/product/0636920013303.do">YUI3 Cookbook</a>. It has been
the goto text for bootstrapping my understanding of <em>YUI3</em>. It is also a handy
set of recipes for <em>YUI3</em>&#39;s practical application.  Additionally the
<a href="http://yuilibrary.com">YUILibrary</a> website has the canonical documentation and
you can read the source for <em>YUI3</em> at <a href="https://github.com/yui/yui3">Github</a>
under <em>yui/yui3</em>.</p>
<p>A note about using Google Search for learning <em>YUI3</em>. Right now, June 2013, the
Google&#39;s search algorhythm still ranks legacy <em>YUI2</em> documentation higher than
<em>YUI3</em>. This can easily lead to confusion.  I recommend several alternatives</p>
<ol>
<li><a href="http://duckduckgo.com">DuckDuckGo</a>, use yui3 as one of your search terms</li>
<li><a href="http://stackoverflow.com/questions/tagged/yui3">Stackexchange</a></li>
<li>IRC community on irc.freeenode.net under #yui.</li>
<li><a href="https://groups.google.com/forum/#!forum/yui-contrib">Google Groups</a></li>
</ol>
<h1>Contents</h1>
<ul>
<li><a href="#preface">Preface</a> -- What you&#39;ll need before you begin</li>
<li><a href="#starting">Starting</a> -- The minimum to pull YUI3 into the webpage</li>
<li><a href="#selectors">Selectors</a> -- Getting Access to parts of a webpage</li>
<li><a href="#dom">DOM</a> -- interacting with innerHTML and attributes</li>
<li><a href="#action">Action</a> -- Mouse clicks, keyboard commands and touch</li>
<li><a href="#modules">Modules</a> -- Moving beyond YUI&#39;s <strong>node</strong></li>
<li><a href="#templates">Templates</a> -- Building out a page with <strong>Y.Handlebars</strong></li>
<li><a href="#persistence">Persistence</a> -- Saving things for latter with <strong>Y.StorageLite</strong></li>
<li><a href="#remote">Remote</a> -- Bring content into the page with <strong>Y.io</strong></li>
<li><a href="#reminders">Reminders</a> -- Should you use YUI for that?</li>
</ul>
<h2>Preface</h2>
<h3>What you&#39;ll need before you begin</h3>
<p>The typical web developer setup is a computer, a web browser, a text editor and a web server.
Specific examples include--</p>
<ul>
<li>Computers:<ul>
<li>a Mac, a Windows PC, a Linux Virtual Marchine or even a Raspberry Pi</li>
</ul>
</li>
<li>Web Browsers:<ul>
<li>Firefox, Chrome, Safari, IE, or Opera (best practice is test on multiple browsers)</li>
</ul>
</li>
<li>Text Editors:<ul>
<li>Adobe Brackets, Chrome&#39;s Text-App, Coda, Text Mate, Sublime Editor, vi, nano, emacs</li>
</ul>
</li>
<li>Web Servers:<ul>
<li>httpster (a <a href="http://yuilibrary.com/yui/docs/node/" title="The YUI3 Node module provides access to DOM elements.">Node</a> based http server nice for development use), NGinX, Cherokee and the venerable Apache and IIS</li>
</ul>
</li>
</ul>
<h3>A word about text editors</h3>
<p>Most developers have opinions about text editors. Sometimes very strong opinions. I don&#39;t.
They are just a computer program and I tend to use the ones available to me. That isn&#39;t to
say there aren&#39;t some helpful things to look for.  One feature I really like is syntax highlighting.
It makes it much easier to read code quickly. Another is an integrated linting tool (e.g.
<a href="http://jslint.com">jslint</a> or <a href="http://jshint.com">jshint</a>). I find both of these features to
be helpful in spotting the sillier things I type.</p>
<p>If you don&#39;t have an editor you like may I suggest <a href="http://brackets.io" title="Adobe Brackets is a text editor written in JavaScript, CSS and HTML. It is free and open source.">Adobe Brackets</a> or <a href="https://github.com/GoogleChrome/text-app" title="A text editor without jslint also built from JavaScript, CSS and HTML.  Runs as a Chrome web app.">Chrome&#39;s Text-app</a>. They
are both built from the same building blocks we use on the web -- HTML, CSS, JavaScript. That
makes it easy to extend and improve to meet your own needs. They also come out of the box
with syntax highlighting.</p>
<h3>A word about Node</h3>
<p>While this tutorial is focused on the web browser <em>YUI3</em> also supports <a href="http://nodejs.org">NodeJS</a> 
(a.k.a. Node) as a first class platform. This presents several nice opportunities when you 
move beyond the browser--</p>
<ol>
<li>What you learn in the browser can be used server side</li>
<li>The <em>YUI3</em> tool chain is Node based</li>
<li><a href="http://developer.yahoo.com/cocktails/mojito/">Mojito</a> is based on on <em>YUI3</em> plus <em>Node</em></li>
<li>Node runs on <em>Mac</em>, <em>Windows</em> and many <em>Unix</em> (e.g. Intel and Arm based <em>Linux</em>)</li>
</ol>
<p>I have found the little <em>Node</em> webserver called <a href="https://github.com/SimbCo/httpster">httpster</a>
to be very help for front-end development. It makes serving content from your current working folder
as easily as typing <em>httpster</em>.</p>
<p>Finally I make the assumption you have an active connection to the internet.</p>
<h3>Some useful links</h3>
<ul>
<li><a href="http://yuilibrary.com">YUI Library</a>, the main YUI site</li>
<li><a href="http://yuilibrary.com/yui/docs/guides/">YUI User Guides</a></li>
<li><a href="http://github.com/yui/yui3">YUI at Github</a>, source code for YUI3</li>
<li><a href="http://www.mozilla.org">Firefox</a></li>
<li><a href="http://brackets.io">Adobe Brackets</a></li>
<li><a href="http://nodejs.org">NodeJS</a></li>
<li><a href="https://github.com/SimbCo/httpster">httpster</a>, follow the instructions in the &quot;README.md&quot; to install</li>
</ul>
<h2>Starting</h2>
<h3>The minimum to pull <em>YUI3</em> into the webpage</h3>
<p><em>YUI</em> needs to be available to the webpage to be useful. Fortunately this is
<a href="http://yuilibrary.com/yui/quick-start/" title="YUI Quick Start at yuilibrary.com">easy</a>. You use a <em>script</em> element to include it from Yahoo&#39;s CDN. Let us
build a simple webpage  using <em>YUI3</em> to change the pages&#39; <em>title</em> to
&quot;Hello World&quot; and the first <em>h1</em> to &quot;Yippee! It worked.&quot;.</p>
<p>Build the first part of your HTML document as you normally would.</p>
<p><a href="getting-started.html">getting-started.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Getting Started&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;h1&gt;Getting Started&lt;/h1&gt;
            &lt;p&gt;When YUI3 is loaded the title and h1 will be updated.&lt;/p&gt;</code></pre>
<p>Now include <em>YUI3</em> from Yahoo&#39;s CDN with the following script element.</p>
<p><a href="getting-started.html">getting-started.html</a></p>
<pre><code class="language-HTML">               &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>Now we want to change the contents of the <em>title</em> and <em>h1</em> element to show that
this worked. We add another <em>script</em> element for that.</p>
<p><a href="getting-started.html">gitting-started.html</a></p>
<pre><code class="language-HTML">            &lt;script&gt;
                YUI().use(&quot;node-base&quot;, function (Y) {
                    Y.one(&quot;title&quot;).setHTML(&quot;Hello World&quot;);
                    Y.one(&quot;h1&quot;).setHTML(&quot;Yippee! It worked.&quot;);
                });
            &lt;/script&gt;</code></pre>
<p>Finally close up the rest of your document normally.</p>
<p><a href="getting-started.html">getting-started.html</a></p>
<pre><code class="language-HTML">        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<p>Save this as the file <em>getting-started.html</em>. Point your web browser at the page
and take a look.</p>
<p>You should now see your first <em>YUI3</em> enabled web page.</p>
<h3>A quick comparison with jQuery</h3>
<p>If you have used <a href="http://jquery.com">jQuery</a> before I think you&#39;ll notice a
similar pattern.</p>
<pre><code class="language-HTML">    &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
    $(document).ready(function () {
        $(&quot;title&quot;).html(&quot;Hello World&quot;);
        $(&quot;h1&quot;).html(&quot;Hello World&quot;);
    });
    &lt;/script&gt;</code></pre>
<p>The line with document ready includes a wrapping function providing a namespace
for your code. <em>YUI</em> also does this though technically my example loads a module
called <em>node</em> to provide the features similar to <em>jQuery</em>&#39;s <em>$</em> object. In
<em>YUI</em> those functions are used from the parameter passed in named <em>Y</em>.  Part of
making the transition from <em>jQuery</em> to <em>YUI3</em> is understanding where and how
they are similar. If you used a <em>$</em> in jQuery look for <em>Y</em> dot something in
YUI3, if you used a <em>$( ... )</em> then look at using either a <em>Y.one()</em> or
<em>Y.all()</em> depending on whether you need a single element or a list of elements.</p>
<h2>Selectors</h2>
<h3>Getting access to parts of a webpage</h3>
<pre><code>    CSS selectors work the way you expect but save those references to be efficient!</code></pre>
<p><em>YUI3</em> uses <a href="http://en.wikipedia.org/wiki/CSS" title="Cascading Style Sheets, they way to control how a webpage looks.">CSS</a> selectors to access parts of the webpage. This typically
is by indentifing an element via an <em>id</em> or <em>class</em> attribute. You may also use
CSS psuedo classes and element relationships to target a specific element
in the page (e.g. the second <em>li</em> contained in a <em>ul</em> list). There is a cost to
caculating where in the <em>DOM</em> your element is so like <em>jQuery</em> the best practice
in <em>YUI3</em> is to save the reference if you need it more than once. This can be
done by assigning the reference to a variable. Here&#39;s an example <em>script</em>
element showing the assignment and use of the saved elements.</p>
<pre><code class="language-HTML">            &lt;script&gt;
                YUI().use(&quot;node&quot;, function (Y) {
                    var title = Y.one(&quot;title&quot;),
                        h1 = Y.one(&quot;h1&quot;);

                    title.setHTML(&quot;Hello World - improved.&quot;);
                    h1.setHTML(&quot;Yippee! I can be more efficient.&quot;);
                });
            &lt;/script&gt;</code></pre>
<p><em>YUI3</em> provides two function that take a selector.  The first is <em>Y.one()</em>. It
will give you the first element in the <a href="http://en.wikipedia.org/wiki/Document_Object_Model" title="The Object which the browser uses to allow access to parts of a webpage.">DOM</a> matching that selector. In our
example above that was <em>title</em> and <em>h1</em>.  If you had more than one <em>h1</em> it
would only give the first <em>h1</em> it found. Usually this is what you want. 
Sometimes you want all the elements that match a selector (e.g. all the anchor
elements in a page).  To get that you use <em>Y.all()</em>.  That returns a list of
elements. It is easiest to explain by showing.  Let us create a short element
with a list of links to YUI3 resources. Next we&#39;ll update part of the page to
indicate the links we found.</p>
<p><a href="selecting-all.html">selecting-all.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Y.all() Example&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;ol&gt;
                &lt;li&gt;&lt;a href=&quot;http://yuilibrary.com&quot;&gt;YUI Library&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;http://github.com/yui/yui3&quot;&gt;YUI3 on Github.com&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;Seed File&lt;/a&gt; for YUI3 at the CDN&lt;/li&gt;
            &lt;/ol&gt;
            &lt;div id=&quot;results&quot;&gt;&lt;/div&gt;
            &lt;!-- load YUI3 on the page as normal --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;!-- Now write our script to cound the anchor elements and update div.results --&gt;
            &lt;script&gt;
                // Load the node module and create our Y object.
                YUI().use(&quot;node&quot;, function (Y) {
                    // Enumerate the anchor elements
                    var all_anchors = Y.all(&quot;a&quot;),
                        // Remember the place in the page to update the results
                        div_results = Y.one(&quot;#results&quot;),
                        results = [];

                        // Now we have our anchors, look through them collecting each href
                        all_anchors.each(function (anchor) {
                            // Grab the href from each anchor element and save it
                            // in the results.
                            results.push(anchor.get(&quot;href&quot;));
                        });
                        // Display the results in div.results as HTML
                        div_results.setHTML(&quot;The following links were found &lt;em&gt;&quot; + results.join(&quot;, &quot;) + &quot;&lt;/em&gt;&quot;);
                });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<h2>DOM</h2>
<h3>interacting with innerHTML and attributes</h3>
<p>JavaScript in the browser is useful for orchestrating behaviors. To do this
we need to beable to get the values inside HTML elements as well as their
attributes. This is easy with <em>YUI3</em>. The <a href="http://yuilibrary.com/yui/docs/node/" title="The YUI3 Node module provides access to DOM elements.">node</a> module provides us with a
rich set of methods for interacting with the <em>DOM</em> but you only need a few to
get useful work done. This is done in two steps</p>
<ol>
<li>Get the node you want to work with via <em>Y.one()</em> or <em>Y.all()</em></li>
<li>use <em>Y.get()</em>, <em>Y.set()</em>, and <em>Y.setHTML()</em> to interact with that element. </li>
</ol>
<pre><code class="language-JavaScript">    YUI().use(&quot;node&quot;, function (Y) {
        // Step 1, get a handle to the node you want to work with in this case an anchor element
        var anchor = Y.one(&quot;a&quot;),
            // Now get the value of the href attribute.
            href = anchor.get(&quot;href&quot;),
            // Get the innerHTML of the anchor
            innerHTML = anchor.get(&quot;innerHTML&quot;);

         // Too see the results in the JavaScript console of the browser use Y.log()
         Y.log(&quot;The href is &quot; + href);
         Y.log(&quot;The innerHTML is &quot; + innerHTML);
    });</code></pre>
<p><em>YUI3</em>&#39;s <em>node</em> module wraps the <em>DOM</em> in a rich set of useful functions. It
allows us to use the same methods even on very old browsers (e.g. I.E. 6,
Android 2.x browser). There are a whole list of additional methods you may find
convienent. A good place to begin your exploration is at
<a href="http://yuilibrary.com/yui/docs/node">yuilibrary.com/yui/docs/node</a>. There are
methods that make quick work of interacting with CSS classes and styles as well
as locations (i.e. x,y coordinates) on the page. Remember best practice is to
use CSS to control the view and layout and only resort to JavaScript if there
isn&#39;t a CSS alternative.</p>
<p>Now that you&#39;ve seen a little of <em>YUI</em> we&#39;re going to put what we&#39;ve shown to
use and expand on it through a series of exercises. In each exercise you&#39;ll be
asked to use both what you know and also to lookup and find something on
<a href="http://yuilibrary.com">yuilibrary.com</a> that will help you expand beyond the
specifics discussed previously.</p>
<p>Here is a seed file you can use to start your exercises from.</p>
<p><a href="seed-file.html">seed-file.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Seed File, put your title here.&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;header&gt;Header info goes here&lt;/header&gt;
            &lt;section&gt;Main content goes here&lt;/section&gt;
            &lt;footer&gt;Footer things go here&lt;/footer&gt;
            &lt;!-- get YUI3 on the page, and a script element for your code --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
            YUI().use(&quot;node&quot;, function (Y) {
                // Your code goes here
            });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<h3>Exercises</h3>
<h4>Digital Clock</h4>
<ul>
<li>Programming goal<ul>
<li>build a simple digital clock webpage</li>
</ul>
</li>
<li>Learning objective <ul>
<li>Explore the <em>node</em> module of <em>YUI3</em></li>
<li>Use additional methods besides <em>Y.get()</em>, <em>Y.set()</em> and <em>Y.setHTML()</em>.</li>
</ul>
</li>
</ul>
<p>Using <em>YUI3</em> update content in the webpage every five seconds displaying the
current time manipulate the CSS classes attach to the element showing the time.</p>
<h5>Steps</h5>
<p>Copy <em>seed-file.html</em> to <em>digital-clock-1.html</em>. Do the following things</p>
<ul>
<li>Add an <em>id</em> attribute of &quot;clock&quot; to <em>section</em>.</li>
<li>Add a <em>style</em> element in the <em>head</em> of the document setting font size of section to &quot;2em&quot;</li>
<li>In your <em>style</em> element create two CSS classes<ul>
<li>.now-blue { color: white; background-color: blue }</li>
<li>.now-red { color: white; background-color: red }</li>
</ul>
</li>
<li>Go to <a href="http://yuilibrary.com/yui/docs/node">yuilibrary.com</a> and find three methods for checking if a class is present, adding a class and removing a class.</li>
<li>Inside your <em>Y</em> function use a JavaScript <em>setInterval()</em> to update the innerHTML with the current time every five seconds.</li>
<li>Each time your update the time swap the classes between <em>now-blue</em> and <em>now-red</em>.</li>
<li>Load the webpage and watch to see if the section innerHTML changes every five seconds and also if the colors change too.</li>
</ul>
<h5>Notes</h5>
<ul>
<li>In this tutorial I have opted for <a href="https://en.wikipedia.org/wiki/Inline_expansion" title="In-line is not a &#39;best practice&#39; particularlly in more complicated websites and applications.">in-line</a> code for convienence</li>
<li>One approach to the solution is <a href="digital-clock-1.html">digital-clock-1.html</a>. Review it and compare with your own code.</li>
</ul>
<h4>Where Am I?</h4>
<ul>
<li>Programming goal<ul>
<li>compare the page name of <em>where-am-i.html</em> with the <em>href</em> in a <em>ul</em> list of anchors elements</li>
<li>if there is a match set replace the anchor element with a span containing a <em>here</em> class.</li>
</ul>
</li>
<li>Learning objectives<ul>
<li>Work with a list of elements</li>
<li>Look into each one</li>
<li>Replace elements as well as its innerHTML</li>
</ul>
</li>
</ul>
<h5>Steps</h5>
<p>Copy <em>seed-file.html</em> to <em>where-am-i.html</em>.  Do the following things</p>
<ul>
<li>Add a <em>nav</em> element before section</li>
<li>In the <em>nav</em> element create a list of seven URLs, one should be for the webpage <em>where-am-i.html</em></li>
<li>in the <em>style</em> element of <em>head</em> add a CSS class named &quot;here&quot;, that swaps the foreground and background colors</li>
<li>Look up examples for using <em>Y.all()</em> and <em>Y.each()</em> at <a href="http://yuilibrary.com/yui/docs/node">yuilibrary.com</a></li>
<li>In your <em>Y</em> function use CSS query solition to get a list of ALL <em>li</em> elements with <em>anchors</em></li>
<li>For each <em>li</em> get the containing anchor, check if the <em>href</em> points at <em>where-am-i.html</em><ul>
<li>update the <em>li</em> if it matches</li>
</ul>
</li>
</ul>
<h5>Notes</h5>
<ul>
<li>We are using in-line code for simplicity of instruction</li>
<li>One approach to the solution is <a href="where-am-i.html">where-am-i.html</a></li>
</ul>
<h2>Action</h2>
<p><em>YUI3</em> provides a robust event system which includes listening for mouse, key
and touch events. Unlike other JavaScript frameworks <em>YUI3</em> approaches the
development problem wholistically and doesn&#39;t create a separate library for
touch devices (e.g. phones and tablets). Instead your code can work across all
devices. <em>YUI3</em> loader also makes it efficient and how much code you download
to the device. To add support for touch guesters, mouse interaction and the
like I am introducing another module called <a href="http://yuilibrary.com/yui/docs/event/" title="The Event modules provide access clicks, touch, touch guestures and keypress">event</a>.  It will let us <em>listen</em>
for interesting things on the <em>DOM</em>.</p>
<h3>Mouse clicks, keyboard commands and touch</h3>
<p>Interaction with the elements in the page by a mouse, keyboard or touch triggers
an event. If you are listening for an event then you can get an event object.
This is like the normal DOM events exposed in JavaScript or in libraries like
<em>jQuery</em>. You can choose to handle the event, alter the propogation and stop
listening to it. The key is to get a handle to the object and then use the
<em>on()</em> method to setup a callback to use when the event happens.</p>
<h3>Exercise</h3>
<h4>What happened?</h4>
<ul>
<li>Programming goal<ul>
<li>Display a button and monitor for click and flick events</li>
</ul>
</li>
<li>Learning objectives<ul>
<li>Learn how to include the event module</li>
<li>Learn how to a listeners on elements</li>
</ul>
</li>
</ul>
<p>This is another example of showing making more sense than telling but let me
quickly outline the steps you normally take to get started.</p>
<ol>
<li>Load <em>YUI3</em> in the page</li>
<li>In your <em>script</em> element (or JavaScript file pointed at the <em>script</em> element) include the <em>event</em> module.</li>
<li>In your <em>Y</em> function select the object you want to listen to (e.g. a button) then use <em>on()</em> to add behavior.</li>
</ol>
<p>That is the basic approach. In this example let us create a simple webpage with
a button in the middle and a status line in the footer.  When we pick up an
event listened for then update the status line (e.g. mouse key pressed if a
your clicks on the button). This is example let&#39;s listen for clicks and flick
guesture.</p>
<h5>Steps</h5>
<p>Copy <em>seed-file.html</em> to <em>what-happened.html</em>. Do the following things</p>
<ol>
<li>Add a <em>button</em> element to the <em>section</em> element in our HTML markup</li>
<li>Update the line where we <em>use()</em> <em>YUI</em> and generate our <em>Y</em> function to to include the <em>event</em> module.</li>
<li>Select our button using <em>Y.one()</em></li>
<li>Add listeners via <em>on()</em> method for click and flick</li>
</ol>
<h4>Notes</h4>
<ul>
<li>It is important to remember that event listeners do have an overhead, if you don&#39;t need it anymore then remove the listener.</li>
<li>One approach to the solution is <a href="what-happened.html">what-happened.html</a></li>
</ul>
<h2>Modules</h2>
<h3>Moving beyond <strong>node</strong> and <strong>event</strong></h3>
<p>The concept of modules is important in <em>YUI</em>. I would go so far as to say it
defines the nature of <em>YUI</em>.  <em>YUI</em> strength and longevity has been its
flexibility in loading modules either via <em>script</em> elements, dynamic loading or
rollups. What people are using <em>RequireJS</em>, <em>AMD</em> for today <em>YUI</em> has had for
years. Unlike many other browser module loaders <em>YUI</em>&#39;s approach works both in
the browser and server side in <em>Node</em>. </p>
<p>Why modules? It allows for effective code re-use.  It allows you to tailor what
code is delivered to the browser and when it should be delivered to the browser.
If you have functionality that is only needed at certain times (e.g. when
someone is logged in or is using an old version of a browser) modules help you
do that. Modules also support versioning and allow for multiple instancies with
different versions.  You can even include other non-YUI libraries (e.g. jQuery)
via <em>YUI</em>&#39;s module and loader system.</p>
<p>What is a YUI module? It is JavaScript wrapped in <em>YUI().add()</em>. That is all it
is. It can be more than that (e.g. you can add version info, namespacing,
dependency information) but at its simplest form it is what you attach to <em>Y</em>
via <em>add()</em>.</p>
<pre><code class="language-JavaScript">    // Here we define a module called Hello World
    YUI.add(&quot;hello-world&quot;, function (Y) {
        Y.namespace(&quot;hello-world&quot;);
        Y.helloWorld = &quot;Hello World!&quot;; 
    });

    // Here we use a module called Hello World
    YUI().use(&quot;hello-world&quot;, function (Y) {
        // We can display Hello World message in the p element
        Y.one(&quot;p&quot;).set(&quot;text&quot;, Y.helloWorld);
    });</code></pre>
<p>We can also put our module in a separate file (e.g. <em>hello-world.js</em>).</p>
<p><a href="hello-world.js">hello-world.js</a></p>
<pre><code class="language-JavaScript">    // Here we define a module called Hello World
    YUI.add(&quot;hello-world&quot;, function (Y) {
        Y.namespace(&quot;hello-world&quot;);
        Y.helloWorld = &quot;Hello World!&quot;; 
    });</code></pre>
<p>We can re-use that module by including it in a <em>script</em> element before our
<em>use()</em> script element.</p>
<p><a href="hello-world.html">hello-world.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;&lt;title&gt;Hello World&lt;/title&gt;&lt;/head&gt;
        &lt;body&gt;
            &lt;p&gt;Our message goes here&lt;/p&gt;
            &lt;!-- Include YUI --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;!-- Include our module --&gt;
            &lt;script src=&quot;hello-world.js&quot;&gt;&lt;/script&gt;
            &lt;!-- Now use our module --&gt;
            &lt;script&gt;
            // Now we&#39;re ready to &#39;use&#39; our Hello World and the YUI node module.
            YUI().use(&quot;node&quot;, &quot;hello-world&quot;, function (Y) {
                // We can display Hello World message in the p element
                Y.one(&quot;p&quot;).set(&quot;text&quot;, Y.helloWorld);
            });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<p>If we don&#39;t want to use an extra <em>script</em> element then we can tell <em>YUI</em> where
to find our module with a little bit of <a href="http://yuilibrary.com/yui/docs/yui/#loading-modules" title="YUI is extremely flexible in how you load modules.">configuration</a>.</p>
<p><a href="hello-world-2.html">hello-world-2.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;&lt;title&gt;Hello World&lt;/title&gt;&lt;/head&gt;
        &lt;body&gt;
            &lt;p&gt;Our message goes here&lt;/p&gt;
            &lt;!-- Include YUI --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;!-- Include our module via configuration --&gt;
            &lt;script&gt;
            // Tell YUI where to find our module, then &quot;use&quot; it.
            YUI({
                modules: {
                    &quot;hello-world&quot;: {
                        fullpath: &quot;hello-world.js&quot;
                    }
                }
            }).use(&quot;node&quot;, &quot;hello-world&quot;, function (Y) {
                // We can display Hello World message in the p element
                Y.one(&quot;p&quot;).set(&quot;text&quot;, Y.helloWorld);
            });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<p>Take away points</p>
<ul>
<li>Modules help encourage code re-use</li>
<li>Modules can be referenced locally via a <em>script</em> element</li>
<li>Modules can be dynamically (synchronously or asynchronously) loaded</li>
<li>Modules can be local to your web server and that location can be defined through configuration</li>
<li>Modules can be also submitted to <em>YUI</em>&#39;s gallery and be hosted in Yahoo&#39;s CDN</li>
</ul>
<p>Like DOM events working with modues is easier shown.</p>
<h4>A quick aside on YUI Gallery</h4>
<p><em>YUI</em> supports a whole <a href="http://yuilibrary.com/gallery/" title="Gallery modules are linked from yuilibrary, many are available on Yahoo&#39;s CDN, but the source is often on github.com">gallery</a> of user contributed modules. Some specialized
and some general purpose. The good thing is that you only load them if you
need them.  You can specify a specific version of a module if you like. Before
something becomes part of <em>YUI3 core</em> it is first additioned as a gallery
module.  If it is considered essential then it may become part of the core
distribution of YUI.  Additionally YUI has been going on a diet of late.
Features that have less utility have migrated out of core back into the gallery.
This allows YUI to trim the size of its core while continuing to support the
functionality it had previously in core. Being in the gallery versus being in
core is not a statement on the quality or importance of the code. Being in the
gallery means your code could be included on Yahoo&#39;s CDN which simplifies using
it for others. </p>
<h3>Excercise</h3>
<h4>What Time is it?</h4>
<ul>
<li>Programming Goal<ul>
<li>Create a simple <em>YUI</em> module out of our digital clock</li>
</ul>
</li>
<li>Learning Objectives<ul>
<li>Increase understanding on how to load modules</li>
<li>Illustrate the a simple case of creating a module</li>
<li>Explore loading a module based on configuration</li>
</ul>
</li>
</ul>
<p>Let us turn our &quot;digital clock&quot; into a module. The idea is to create 
an Object attached to your <em>Y</em> called <em>DigitalClock</em> you could then add
that to a <em>DOM</em> element.  It should also support an optional callback
function to supported extending the module with a custom render function.
This will allow your flexibility to extend the digital clock later
(e.g. displaying as an analog clock using Canvas).</p>
<h5>Steps</h5>
<p>Create a new file called <em>digital-clock-2.js</em>. We will put our module code there.
Copy <em>seed-file.html</em> to <em>digital-clock-2.html</em>. Do the following things</p>
<ol>
<li>In <em>digital-clock-2.html&#39;s _script</em> in-line element add configuration to point to our module.</li>
<li>In <em>digital-clock-2.html&#39;s _script</em> in-line element update the <em>use()</em> function to include our module.</li>
<li>Open our empty <em>digital-clock-2.js</em> file and 
 a. create our module
 b. create a namespace
 c. create a <em>render()</em> method that returns HTML markup as a string of our clock&#39;s current time<pre><code> - this should expect a _Date_ object as a parameter to be rendered.</code></pre>
 d. create a <em>run()</em> method that uses setInterval to update our clock every second. <pre><code> - first paramter is a CSS selector of an element which will hold our clock
 - An optional second parameter should allow for a custom render method
 - If a render method is not provided use our default _render()_ we implemented.</code></pre>
</li>
<li>Go back to our <em>digital-clock-2.html</em> file.</li>
<li>Inside the <em>Y</em> on our in-line <em>script</em> element use <em>Y.DigitalClock.render()</em> to run our clock.</li>
</ol>
<h4>Notes</h4>
<ul>
<li>We are using an external file for some of our JavaScript this time (i.e. our module)</li>
<li>One possible solition is <a href="digital-clock-2.html">digital-clock-2.html</a> and <a href="digital-clock-2.js">digital-clock-2.js</a> holding our module code.</li>
</ul>
<h2>Templates</h2>
<h3>Building out a page with <strong>Y.Handlebars</strong></h3>
<p>Templates are a convient solution to generating HTML from JavaScript functions.
Templates in JavaScript can often be rendered server side as well as in the
browser. This is true of <em>Handlbars</em> templates.  <em>Handlebars</em> is an extention
to a popular template notation called <em>Mustache</em>.  The basic idea is your
surround the parts of the markup you want to replace with double curly brackets
surrounding matching variable name.  When you provide the template function
with an object that contains attributes that match those curly bracket variable
names then the template engine replaces the content.  Here&#39;s a quick example of
a template--</p>
<pre><code class="language-HTML">    &lt;div&gt;&lt;span id=&quot;name&quot;&gt;{{name}}&lt;/span&gt; &lt;span id=&quot;phonenumber&quot;&gt;{{phonenumber}}&lt;/span&gt;&lt;/div&gt;</code></pre>
<p>Here is a JSON object that could be used to populate the template--</p>
<pre><code class="language-JavaScript">    {&quot;name&quot;: &quot;John Doe&quot;, &quot;phonenumber&quot;: &quot;+1-222-333-4444&quot;}</code></pre>
<p>If you applied that object to that template you&#39;d get something like</p>
<pre><code class="language-HTML">    &lt;div&gt;&lt;span id=&quot;name&quot;&gt;John Doe&lt;/span&gt; &lt;span id=&quot;phonenumber&quot;&gt;+1-222-333-4444&lt;/span&gt;&lt;/div&gt;</code></pre>
<p>In the past it was common to see code that look like this to generate the same HTML fragment from
JavaScript--</p>
<pre><code class="language-JavaScript">    record = {&quot;name&quot;: &quot;John Doe&quot;, &quot;phonenumber&quot;: &quot;+1-222-333-4444&quot;},
    html = &#39;&lt;div&gt;&lt;span id=&quot;name&quot;&gt;&#39; + record.name + &#39;&lt;/span&gt; &lt;span id=&quot;phonenumber&quot;&gt;&#39; +
        record.phonenumber + &#39;&lt;/span&gt;&lt;/div&gt;;</code></pre>
<p>It is not too bad but when you get lots of fields (e.g. a person&#39;s profile, a
calendar event listing) you get lots of concatenation operations. That isn&#39;t
terribly effecient for JavaScript and if you miss a closing quotation can be
tough to debug. Templates provide a clean effective way to avoid that.</p>
<h4>Embedding your handlebars template</h4>
<p>The easiest place to embed your template is in the HTML file that needs them.
A practice of using a <em>script</em> element has been evolving as a way of
designating the template within the page. Building on our previous example here
is a simple webpage that displays a list of names and phone numbers embedded in
a <em>ul</em> element.  We load <em>YUI</em> normally but include <em>handlebars</em> as a module.
We fetch the templates using <em>Y.one()</em> by CSS id. We compile the template and
then apply our data object the HTML element we want to update.  While our
example has one template in principle you can do this as many times as you
needed for the page&#39;s content.  With slight modification in approach you could
pre-render this server side for a pregressively enhanced experience.</p>
<p><a href="handlebars-demo-1.html">handlebars-demo-1.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Handlebars Demo 1&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;header&gt;Handlebars Demo 1&lt;/header&gt;
            &lt;section&gt;Main content goes here&lt;/section&gt;
            &lt;footer&gt;&lt;/footer&gt;
            &lt;!-- Define a template to render our UL list with --&gt;
            &lt;script id=&quot;list-template&quot; type=&quot;text/x-handlebars-template&quot;&gt;
                &lt;ul&gt;
                {{#data}}
                    &lt;li&gt;&lt;span class=&quot;name&quot;&gt;{{name}}&lt;/span&gt; &lt;span class=&quot;phonenumber&quot;&gt;{{phonenumber}}&lt;/span&gt;&lt;/li&gt;
                {{/data}}
                &lt;/ul&gt;
            &lt;/script&gt;
            &lt;!-- Define some data to put in the template --&gt;
            &lt;script type=&quot;text/javascript&quot; rel=&quot;javascript&quot;&gt;
                var data = [
                    {name: &quot;Jane Doe&quot;, phonenumber: &quot;+1-222-333-4567&quot;},
                    {name: &quot;John Doe&quot;, phonenumber: &quot;+1-222-333-5678&quot;},
                    {name: &quot;Trina Doe&quot;, phonenumber: &quot;+1-222-333-6789&quot;}
                ];
            &lt;/script&gt;
            &lt;!-- get YUI3 on the page, and a script element for your code --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
            YUI().use(&quot;node&quot;, &quot;handlebars&quot;, function (Y) {
                // Your code goes here
                var source = Y.one(&quot;#list-template&quot;).getHTML(),
                    template = Y.Handlebars.compile(source),
                    section = Y.one(&quot;section&quot;);

                section.setHTML(template({data: data}));
            });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<p>Of course you could also define your templates outside the document and bring
them in via an <a href="http://docs.webplatform.org/wiki/apis/xhr" title="xdr - Cross Domain Request, also referred to as Ajax.">xdr</a> call.</p>
<h3>Exercise</h3>
<h4>Digital Clock with Template</h4>
<ul>
<li>Programming Goal<ul>
<li>Re-factor our Digital Clock <em>YUI</em> module to use templates rather than a custom render method.</li>
</ul>
</li>
<li>Learning Objective<ul>
<li>Become with familiar with the basics of <em>Handlebars</em> as implemented in <em>YUI</em></li>
</ul>
</li>
</ul>
<h5>Steps</h5>
<h5>Notes</h5>
<ul>
<li>One implementation is <a href="digital-clock-3.html">digital-clock-3.html</a></li>
</ul>
<h2>Persistence</h2>
<h3>Saving things for latter with Y.StorageLite</h3>
<h2>Remote</h2>
<pre><code>Some times you want data from someplace else, say Dave Winer&#39;s blog Scripting News...</code></pre>
<h3>Bring content into the page with <strong>Y.io</strong> from <strong>io-base</strong></h3>
<p>Sometimes we need data from other websites or even an <a href="http://wikipedia.org/wiki/API" title="Application Programming Interface - For our purposes today a way to get data from and push data to a web service">API</a> in our hosting
website. It is nice to have that option in the browser and <em>YUI</em> has a module
for that :-).  The module is called <em>IO</em> or more specifically in your <em>Y</em>
function <em>Y.io</em>. It abstracts content input and output. That means it can be
used to load other content (e.g. RSS, XML, HTML, JSON) as well as used to push
data to a server (e.g. a forms&#39; POST, PUT, GET or DELETE).  It is what puts
connectivity in the phrase &quot;social web app&quot;. I.e. the social services are
usually someplace else on the network (e.g. Twitter, Facebook, G+). Since this
tutorial in focused on introducing the browser side resources of <em>YUI</em> I am
going to show you how you might retrieve a remote <a href="http://json.org" title="JavaScript-Object-Notation, a text format for easy data exchange">JSON</a> file to populate our
previous example of phone number list.  In principle you use the same techniques
to talk to an API.  In this example a list of names and phone numbers is stored
in a file called <em>phonelist.json</em> on our web server. Using <em>Y.io</em> we get the
file and convert to an JavaScript object. Next the object is used along with a
template like our earlier example.</p>
<p>Here is our phone list data. For the purpose of this tutorial we can think of
it as an web service <em>API</em> call.</p>
<p><a href="phonelist.json">phonelist.json</a></p>
<pre><code class="language-JavaScript">    [
        {&quot;name&quot;: &quot;Jane Doe&quot;, &quot;phonenumber&quot;: &quot;+1-222-333-4567&quot;},
        {&quot;name&quot;: &quot;John Doe&quot;, &quot;phonenumber&quot;: &quot;+1-222-333-5678&quot;},
        {&quot;name&quot;: &quot;Trina Doe&quot;, &quot;phonenumber&quot;: &quot;+1-222-333-6789&quot;}
    ]</code></pre>
<p>Here is what our HTML with in-line JavaScript would look like.</p>
<p><a href="phonelist.html">phonelist.html</a></p>
<pre><code class="language-HTML">    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Phone List&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;header&gt;Phone List&lt;/header&gt;
            &lt;section&gt;Phone list content goes here&lt;/section&gt;
            &lt;footer&gt;&lt;/footer&gt;
            &lt;!-- Define a template to render our UL list with --&gt;
            &lt;script id=&quot;list-template&quot; type=&quot;text/x-handlebars-template&quot;&gt;
                &lt;ul&gt;
                {{#data}}
                    &lt;li&gt;&lt;span class=&quot;name&quot;&gt;{{name}}&lt;/span&gt; &lt;span class=&quot;phonenumber&quot;&gt;{{phonenumber}}&lt;/span&gt;&lt;/li&gt;
                {{/data}}
                &lt;/ul&gt;
            &lt;/script&gt;
            &lt;!-- Define some data to put in the template --&gt;
            &lt;!-- get YUI3 on the page, and a script element for your code --&gt;
            &lt;script src=&quot;http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
            // Notice we have added &quot;io-base&quot; to our list of modules in our &quot;use&quot; function.
            YUI().use(&quot;node&quot;, &quot;handlebars&quot;, &quot;io-base&quot;, function (Y) {
                // Your code goes here
                var source = Y.one(&quot;#list-template&quot;).getHTML(),
                    template = Y.Handlebars.compile(source),
                    section = Y.one(&quot;section&quot;);

                // Here are two function, one to execute on a successful data retrieval
                // the other if something goes wrong.
                function onSuccess(id, response, extra_args) {
                    var data = JSON.parse(response.responseText);

                    // Here is our render method from before.
                    section.setHTML(template({data: data}));
                }

                function onFailure(id, response, extra_args) {
                     // If this doesn&#39;t work we should say something.
                     section.setHTML(&quot;&lt;em&gt;ERROR&lt;/em&gt;: cannot get the phone list at this time.&quot;);
                }

                // Since the data is not yet available we use YUI to fetch it then we can
                // use the emplate to render it into &quot;section&quot; as before.
                Y.io(&quot;phonelist.json&quot;, {
                    on: {
                        // We listen for an &quot;io&quot; success event.
                        success: onSuccess,
                        // We listen for an &quot;io&quot; failure event.
                        failure: onFailure
                    }
                });
            });
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;</code></pre>
<p>Notice we still use our </p>
<pre><code class="language-JavaScript">    section.setHTML(template({data: data}));</code></pre>
<p>We only wait to call it until we have data base in the <em>onSuccess()</em> callback.
The first parameter <em>Y.io</em> expects is a URL as a string.  This could be a
relative path  or a full URL to an API.  There are additional optional
parameters in the <em>Y.io</em> function call.  The second one is for a configuration
object. Typically we define our success and failure callbacks here.  If we were
interacting with an API, say &quot;POST-ing&quot; a form&#39;s content, we would provide
additional configuration.</p>
<p>There are additional events emmited by <em>Y.io</em> which can be listened for.  To
see a complete list go to the <a href="http://yuilibrary.com/yui/">YUI Library</a>
documentation and <a href="http://yuilibrary.com/yui/utilities">Utilities</a> and
<a href="http://yuilibrary.com/yui/docs/io/">IO Utility</a>. Additional you will find
Object specific docs extracted from the source code at
<a href="http://yuilibrary.com/yui/docs/api/classes/IO.html">YUI Library, API Docs, IO</a>
for specific implementation details.</p>
<h5>An aside about IO</h5>
<p><em>IO</em>&#39;s <em>Y.io</em> is a very configurable and flexible object.  I have shown only one
idiomatic use to keep things simple. If all you were doing in your page was
fetching <em>JSON</em> objects then you could use <em>Y.io</em>&#39;s  <em>getJSON()</em> function. This
makes it even simplier. I have chosen to show you this idomatic implementation
because you can extend it to do things like submitting POSTs to a API allowing
you to do a complete <a href="http://en.wikipedia.org/wiki/Single_page_application" title="Single-Page Application">SPA</a>.</p>
<p><em>IO</em>&#39;s (i.e. <em>io-base</em> in our use module list) is one of my favorite modules.
It works both in the browser and in <em>Node</em>. That gives us a common way to setup
remote API access that might be processed in a middle layer running on the
server or directly in the client web browser.</p>
<h3>Exercise</h3>
<h4>Digital Clock with alarms</h4>
<h5>Steps</h5>
<h5>Notes</h5>
<ul>
<li>One implementation of our Digital Clock with Alarms pull is <a href="digital-clock-4.html">digital-clock-4.html</a></li>
</ul>
<h2>Reminders</h2>
<h3>Should you use YUI for that?</h3>
<p>While <em>YUI3</em> is a very good library it is easy to get carried away. Here&#39;s some
heuristic in deciding when to use <em>YUI3</em> (or really any JavaScript at all)</p>
<ul>
<li>If it is structure then use HTML</li>
<li>If it is visual look and feel or layout trying solving with CSS</li>
<li>If it is behavior use JavaScript if you can not achieve it in HTML and CSS</li>
<li>If you can do solve it simply in plain JavaScript then do so. </li>
<li>If it is more complicated or can benefit from modularization consider <em>YUI3</em></li>
</ul>

        </section>
        
        <footer>
            <div class="copyright-notice">copyright &copy; 2013</div>
            <div class="license">Released under the <a href="http://opensource.org/licenses/BSD-2-Clause">BSD 2-Clause</a> license.</div>
        </footer>
        <script src="http://yui.yahooapis.com/3.10.0/build/yui/yui-min.js"></script>
        <script>
        YUI().use("node", function (Y) {
            var allH2 = Y.all("h2");
            allH2.each(function (h2) {
                var key = h2.getHTML(),
                    anchor = Y.one('a[href="#' + key.toLowerCase() + '"]');
                if (anchor) {
                    h2.setHTML('<a name="' + key.toLowerCase() + '">' + key + '</a>');
                }
            });
        });
        </script>
    </body>
</html>
